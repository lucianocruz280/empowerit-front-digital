import{j as s,q as n,d as j,bg as N,r as m,aD as b,g as y,a as w}from"./index-dd631538.js";import{S as d}from"./SkeletonVideo-2ff1d07f.js";import{u as A}from"./useLives-8c8f014a.js";import{C as D}from"./ConditionalWrapper-9fa2e41e.js";import{A as t,C as x}from"./Academy.definition-2f8eb162.js";import{u as L}from"./useLessons-42f9f959.js";import"./Academy.utils-167d070d.js";const E=({lesson:e,courseId:r,isLeadership:i=!1})=>{var c;return s.jsx(D,{condition:e.status!=="scheduled",wrapper:l=>s.jsx(n,{to:`/${i?t.LEADERSHIP:t.STANDARD}/course/${r}/lesson/${e.id}`,children:l}),children:s.jsxs("div",{className:"w-68",children:[s.jsxs("div",{className:"aspect-video w-full bg-gray-700 overflow-hidden relative",children:[s.jsx("img",{src:e.image_cover,alt:"",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute right-0 bottom-0 bg-gray-500/50 p-1 text-white z-10",children:e.duration})]}),s.jsx("div",{className:"flex mt-2",children:s.jsxs("div",{className:"ml-2",children:[s.jsx("div",{className:"text-sm font-bold",children:e.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("p",{children:(c=e.author)==null?void 0:c.name}),s.jsxs("p",{children:[j(e.created_at.seconds*1e3).fromNow()," "]})]})]})})]})})},S=({lesson:e,courseId:r,isLeadership:i=!1})=>s.jsx(n,{to:`/${i?t.LEADERSHIP:t.STANDARD}/course/${r}/live/${e.id}`,children:s.jsxs("div",{className:"w-68",children:[s.jsxs("div",{className:"aspect-video w-full bg-gray-700 overflow-hidden relative",children:[s.jsx("img",{src:e.image_cover,alt:"",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute right-0 bottom-0 bg-gray-500/50 p-1 text-white z-10",children:e.duration})]}),s.jsx("div",{className:"flex mt-2",children:s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"text-sm font-bold",children:j(e.date.seconds*1e3).format("DD MMMM YYYY")})})})]})}),M=e=>{const{courseId:r,academyType:i}=N(),c=i===t.LEADERSHIP,l=i===t.LEADERSHIP?x.LEADERSHIP:x.STANDARD,[h,g]=m.useState({name:""}),{data:v,isLoading:p}=L(l,r),{data:u,isLoading:f}=A(l,r);return m.useEffect(()=>{b(y(w,`${l}/`+r)).then(a=>{g(a.data())})},[r]),s.jsxs("div",{className:"flex flex-col space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["Academia de ",h.name]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-y-10 gap-x-2",children:[p&&s.jsxs(s.Fragment,{children:[s.jsx(d,{}),s.jsx(d,{}),s.jsx(d,{}),s.jsx(d,{})]}),v.sort((a,o)=>a.order-o.order).map(a=>s.jsx(E,{lesson:a,courseId:r,isLeadership:c},a.id))]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Clases en vivo (grabadas)"}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-y-10 gap-x-2",children:[f&&s.jsxs(s.Fragment,{children:[s.jsx(d,{}),s.jsx(d,{}),s.jsx(d,{}),s.jsx(d,{})]}),u.sort((a,o)=>a.order-o.order).map(a=>s.jsx(S,{lesson:a,courseId:r,isLeadership:c},a.id))]})]})]})};export{M as default};
