import{cq as x,cr as g,j as e,b4 as j,bS as i,I as d,cs as v,Z as w,ct as F,B as S,bP as f,c as y,a as C,b0 as P,b1 as V,cu as L,cv as N}from"./index-dd631538.js";import{F as R,a as U,b as c}from"./formik.esm-56d92394.js";import{c as k,a as u}from"./index.esm-65d2e63a.js";import{v as q}from"./v4-4a60fe23.js";const B=()=>{const n=x(g,"courses-images/"+q()),l=(s,o,a)=>{s.setFieldValue("courses",a[0]),s.setFieldValue("coursesPreview",URL.createObjectURL(a[0]))},m=async s=>(await L(n,s),await N(n)),p=async(s,{resetForm:o})=>{const a=await m(s.courses);try{await f(y(C,"courses-leadership"),{name:s.name,description:s.description,image_cover:a,s3_path:s.name.replace(/\s/g,"").toLowerCase()}),P.push(e.jsx(V,{title:"Se subio el curso éxito",type:"success"}),{placement:"top-center"}),o()}catch(r){console.log(r)}},b=k().shape({name:u().required("Por favor introduzca el nombre del curso"),description:u().required("Por favor introduzca la descripcion del curso")});return e.jsx("div",{children:e.jsx(R,{initialValues:{name:"",description:"",image_cover:""},validationSchema:b,onSubmit:p,children:({touched:s,errors:o})=>e.jsx(U,{children:e.jsxs(j,{children:[e.jsx(i,{label:"Nombre",invalid:o.name&&s.name,errorMessage:o.name,children:e.jsx(c,{type:"text",autoComplete:"off",name:"name",placeholder:"Nombre del Curso",component:d})}),e.jsx(i,{label:"Descripcion",invalid:o.description&&s.description,errorMessage:o.description,children:e.jsx(c,{type:"text",autoComplete:"off",name:"description",placeholder:"Descripcion del Curso",component:d})}),e.jsx(i,{label:"Imagen del Curso",children:e.jsx(c,{name:"courses",children:({field:a,form:r})=>{const h=r.values.coursesPreview?{src:r.values.coursesPreview}:{};return e.jsx(v,{className:"cursor-pointer",onChange:t=>l(r,a,t),onFileRemove:t=>l(r,a,t),showList:!1,uploadLimit:1,children:e.jsx(w,{className:"border-2 border-white dark:border-gray-800 shadow-lg",size:60,shape:"square",icon:e.jsx(F,{}),...h})})}})}),e.jsx(S,{block:!0,variant:"solid",type:"submit",children:"Añadir Curso"})]})})})})},_=B;export{_ as default};
