import{r as h,aT as d,aU as P,aW as v,c as t,j as n,bq as u,br as i,bs as j,bt as r,cn as b,bu as f,bv as c,a as k}from"./index-dd631538.js";import{f as o}from"./format-e6b86736.js";import{a as w}from"./Views-34b2bc56.js";const E=()=>{const S=w(s=>s),[_,D]=h.useState([]),[e,p]=h.useState(null),[T,m]=h.useState(!1);h.useEffect(()=>{d(P(t(k,"payroll"),v("created_at","desc"))).then(s=>{const C=s.docs.map(async x=>{const a=x.data(),U=(await d(t(x.ref,"details"))).docs.map(N=>N.data()),B=a.created_at.toDate().toLocaleString();return{...a,details:U,formattedDate:B}});Promise.all(C).then(x=>{D(x)})})},[]);const l=s=>{p(s),m(!0)};return n.jsxs("div",{className:"flex flex-col items-end space-y-8",children:[n.jsx("div",{className:"w-full",children:n.jsxs(u,{children:[n.jsx(i,{children:n.jsxs(j,{children:[n.jsx(r,{children:n.jsx(b,{})}),n.jsx(r,{children:"Fecha de pago"}),n.jsx(r,{children:"Total LTC"}),n.jsx(r,{children:"Total USD"})]})}),n.jsx(f,{children:_.map(s=>n.jsxs(j,{onClick:()=>l(s),style:{cursor:"pointer"},children:[n.jsx(c,{children:n.jsx(b,{})}),n.jsx(c,{children:s==null?void 0:s.formattedDate}),n.jsxs(c,{children:[s==null?void 0:s.total_btc," BTC"]}),n.jsxs(c,{children:[s==null?void 0:s.total_usd," USD"]})]},s.id))})]})}),T&&n.jsx("div",{style:{zIndex:21},className:"modal max-w-sm md:max-w-full overflow-scrol",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("span",{className:"close",onClick:()=>m(!1),style:{cursor:"pointer"},children:[" ","Ã—"," "]}),n.jsxs(u,{children:[n.jsx(i,{children:n.jsxs(j,{children:[n.jsx(r,{children:"Puntos Binario"}),n.jsx(r,{children:"Lado de binario cobrado"}),n.jsx(r,{children:"Puntos a la izquierda"}),n.jsx(r,{children:"Puntos a la derecha"}),n.jsx(r,{children:"Cantidad LTC"}),n.jsx(r,{children:"Bono Inicio Rapido"}),n.jsx(r,{children:"Bono Binario"}),n.jsx(r,{children:"Bono Presentador"}),n.jsx(r,{children:"Bono Mentor"}),n.jsx(r,{children:"Bono Carro"}),n.jsx(r,{children:"Nombre"}),n.jsx(r,{children:"Sub Total"}),n.jsx(r,{children:"Comisiones"}),n.jsx(r,{children:"Total"})]})}),n.jsx(f,{children:e&&(e==null?void 0:e.details.map(s=>n.jsxs(j,{children:[n.jsx(c,{children:s==null?void 0:s.binary_points}),n.jsx(c,{children:s==null?void 0:s.binary_side}),n.jsx(c,{children:s==null?void 0:s.left_points}),n.jsx(c,{children:s==null?void 0:s.right_points}),n.jsx(c,{children:s==null?void 0:s.crypto_amount}),n.jsxs(c,{children:[o((s==null?void 0:s.bond_quick_start)+(s==null?void 0:s.bond_founder),2)," ","USD"]}),n.jsxs(c,{children:[o(s==null?void 0:s.bond_binary,2)," USD"]}),n.jsxs(c,{children:[o(s==null?void 0:s.bond_presenter,2)," USD"]}),n.jsxs(c,{children:[o((s==null?void 0:s.bond_mentor)||0,2)," ","USD"]}),n.jsxs(c,{children:[o((s==null?void 0:s.bond_car)||0,2)," USD"]}),n.jsx(c,{children:n.jsx("span",{className:"underline text-blue-500 hover:cursor-pointer",onClick:()=>S.openModal(s.id),children:s==null?void 0:s.name})}),n.jsxs(c,{children:[o(s==null?void 0:s.subtotal,2)," USD"]}),n.jsxs(c,{children:[s==null?void 0:s.fee," USD"]}),n.jsxs(c,{children:[o(s==null?void 0:s.total,2)," USD"]})]},s==null?void 0:s.id)))})]})]})})]})};export{E as default};
