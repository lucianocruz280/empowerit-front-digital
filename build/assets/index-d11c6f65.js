import{r as x,aS as j,j as e,cA as f,b4 as b,bS as g,I as v,B as F,cH as N,cI as S,b0 as y,b1 as I}from"./index-dd631538.js";import{A as P}from"./ActionLink-40d75935.js";import{u as w}from"./useTimeOutMessage-07ccc141.js";import{F as E,a as k,b as A}from"./formik.esm-56d92394.js";import{c as C,a as M}from"./index.esm-65d2e63a.js";const R=C().shape({email:M().required("Please enter your email")}),$=l=>{const{disableSubmit:c=!1,className:m,signInUrl:d="/sign-in"}=l,[n,H]=x.useState(!1),[t,u]=w(),h=j(),p=async(r,a)=>{var i,o;a(!0);try{N(S,r.email).then(()=>{h("/sign-in")}).catch(s=>{console.error(s),y.push(e.jsx(I,{title:"Hubo un problema, verifica tu correo electrónico",type:"danger"}),{placement:"top-center"})}).finally(()=>{a(!1)})}catch(s){u(((o=(i=s==null?void 0:s.response)==null?void 0:i.data)==null?void 0:o.message)||s.toString()),a(!1)}};return e.jsxs("div",{className:m,children:[e.jsx("div",{className:"mb-6",children:n?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Revisa tu bandeja de entrada"}),e.jsx("p",{children:"Te hemos enviado las instrucciones para recuperar tu contraseña"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Contraseña Olvidada"}),e.jsx("p",{children:"Por favor, ingresa tu correo electrónico para recibir un link de recuperación"})]})}),t&&e.jsx(f,{showIcon:!0,className:"mb-4",type:"danger",children:t}),e.jsx(E,{initialValues:{email:""},validationSchema:R,onSubmit:(r,{setSubmitting:a})=>{c?a(!1):p(r,a)},children:({touched:r,errors:a,isSubmitting:i})=>e.jsx(k,{children:e.jsxs(b,{children:[e.jsx("div",{className:n?"hidden":"",children:e.jsx(g,{invalid:a.email&&r.email,errorMessage:a.email,children:e.jsx(A,{disablePaste:!0,type:"email",autoComplete:"off",name:"email",placeholder:"Correo",component:v})})}),e.jsx(F,{block:!0,loading:i,variant:"solid",type:"submit",children:n?"Reenviar correo":"Enviar correo"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Volver a "}),e.jsx(P,{to:d,children:"Inicio de Sesión"})]})]})})})]})},B=()=>e.jsx($,{disableSubmit:!1}),U=B;export{U as default};
