import{r as i,aU as n,c as d,a as p,aW as l,aV as o,cD as N,cE as b,aT as v,d as k,j as e}from"./index-dd631538.js";const _=({data:D=[],...h})=>{const[y,u]=i.useState([]),[x,g]=i.useState(null),[m,w]=i.useState(null),c=1e3;i.useEffect(()=>{j(!0)},[]);const j=async s=>{try{let a=null;s&&x?a=n(d(p,"memberships-history"),l("created_at","desc"),o(c),N(x)):!s&&m?a=n(d(p,"memberships-history"),l("created_at","desc"),o(c),b(m)):a=n(d(p,"memberships-history"),l("created_at","desc"),o(c));const r=await v(a),f=r.docs.map(t=>({id:t.id,name:t.data().name,email:t.data().email,date:t.data().created_at?k(t.data().created_at.seconds*1e3).format("YYYY-MM-DD HH:mm:ss"):null,sponsor:t.data().sponsor,upline:t.data().upline,position:t.data().position,membership:t.get("membership"),pay_status:t.data().subscription_status,pay_status_link:t.data().payment_link?t.data().payment_link:{},activatedType:t.data().activated,currency:t.data().currency}));u(f),r.docs.length>0&&(g(r.docs[r.docs.length-1]),w(r.docs[0]))}catch(a){console.error("Error loading page:",a)}};return e.jsxs("div",{...h,className:"ov overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha y hora"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membresia"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Correo"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sponsor"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upline"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posición"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo de Activación"}),e.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Divisa"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((s,a)=>e.jsxs("tr",{className:"hover:bg-gray-100 transition-colors text-center",children:[e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.date}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.name}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.membership}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.email}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.sponsor}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.upline}),e.jsx("td",{className:"py-4 whitespace-nowrap",children:s.position==="right"?e.jsx("span",{children:"Derecha"}):s.position==="left"?e.jsx("span",{children:"Izquierda"}):""}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:s.activatedType}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap",children:s.currency})]},a))})]}),e.jsx("div",{className:"flex justify-center mt-4"})]})},S=_;export{S as default};
