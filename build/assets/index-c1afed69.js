import{aL as y,aK as D,r as j,j as t,b4 as L,bS as U,I as R,aU as P,c as $,a as B,aX as I,aT as W,d as Y}from"./index-dd631538.js";import{F as q,a as A}from"./formik.esm-56d92394.js";var G="Expected a function",T=0/0,H="[object Symbol]",X=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,V=/^0o[0-7]+$/i,J=parseInt,Q=typeof y=="object"&&y&&y.Object===Object&&y,Z=typeof self=="object"&&self&&self.Object===Object&&self,ee=Q||Z||Function("return this")(),te=Object.prototype,re=te.toString,ae=Math.max,ne=Math.min,w=function(){return ee.Date.now()};function se(e,n,c){var d,o,x,m,i,l,r=0,u=!1,p=!1,s=!0;if(typeof e!="function")throw new TypeError(G);n=O(n)||0,v(c)&&(u=!!c.leading,p="maxWait"in c,x=p?ae(O(c.maxWait)||0,n):x,s="trailing"in c?!!c.trailing:s);function b(a){var f=d,h=o;return d=o=void 0,r=a,m=e.apply(h,f),m}function F(a){return r=a,i=setTimeout(g,n),u?b(a):m}function C(a){var f=a-l,h=a-r,E=n-f;return p?ne(E,x-h):E}function k(a){var f=a-l,h=a-r;return l===void 0||f>=n||f<0||p&&h>=x}function g(){var a=w();if(k(a))return S(a);i=setTimeout(g,C(a))}function S(a){return i=void 0,s&&d?b(a):(d=o=void 0,m)}function _(){i!==void 0&&clearTimeout(i),r=0,d=l=o=i=void 0}function M(){return i===void 0?m:S(w())}function N(){var a=w(),f=k(a);if(d=arguments,o=this,l=a,f){if(i===void 0)return F(l);if(p)return i=setTimeout(g,n),b(l)}return i===void 0&&(i=setTimeout(g,n)),m}return N.cancel=_,N.flush=M,N}function v(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function ie(e){return!!e&&typeof e=="object"}function ce(e){return typeof e=="symbol"||ie(e)&&re.call(e)==H}function O(e){if(typeof e=="number")return e;if(ce(e))return T;if(v(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=v(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(X,"");var c=K.test(e);return c||V.test(e)?J(e.slice(2),c?2:8):z.test(e)?T:+e}var oe=se;const le=D(oe),de=({data:e=[],...n})=>{const[c,d]=j.useState([]),[o,x]=j.useState(""),m=async()=>{try{const r=P($(B,"users"),I("email",">=",o),I("email","<",o+"")),p=(await W(r)).docs.map(s=>({id:s.id,name:s.data().name,email:s.data().email,date:s.data().created_at?Y(s.data().created_at.seconds*1e3).format("YYYY-MM-DD HH:mm:ss"):null,sponsor:s.data().sponsor,upline:s.data().parent_binary_user_id,position:s.data().position,profits:s.data().profits?s.data().profits:"0"}));d(p)}catch(r){console.error("Error loading page:",r)}},i=r=>{x(r.target.value)},l=j.useMemo(()=>le(i,300),[]);return j.useEffect(()=>{m()},[o]),t.jsxs("div",{className:"space-y-5",children:[t.jsx(q,{initialValues:{name:"",password:"",confirmPassword:"",email:"",sponsor:"",sponsor_id:""},onSubmit:r=>{console.log(r)},validateOnChange:!0,children:({touched:r,errors:u,isSubmitting:p})=>t.jsx(A,{children:t.jsx(L,{className:"lg:w-[40%] w-full",children:t.jsx(U,{label:"Buscar Usuario por Email",invalid:u.name&&r.name,errorMessage:u.name,children:t.jsx(R,{placeholder:"Email",onChange:l})})})})}),t.jsxs("div",{...n,className:"ov overflow-x-auto",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha y hora"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Correo"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ganancias"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sponsor"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upline"}),t.jsx("th",{className:"py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posición"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((r,u)=>t.jsxs("tr",{className:"hover:bg-gray-100 transition-colors text-center",children:[t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.date}),t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.name}),t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.email}),t.jsxs("td",{className:"py-4 whitespace-nowrap",children:["$",Number(r.profits).toLocaleString("en",{minimumFractionDigits:2})]}),t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.sponsor}),t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.upline}),t.jsx("td",{className:"py-4 whitespace-nowrap",children:r.position==="right"?t.jsx("span",{children:"Derecha"}):r.position==="left"?t.jsx("span",{children:"Izquierda"}):""})]},u))})]}),t.jsx("div",{className:"flex justify-center mt-4",children:t.jsx("div",{className:"flex justify-center mt-4"})})]})]})},pe=de;export{pe as default};
