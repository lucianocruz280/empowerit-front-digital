import{r as p,j as s,bq as D,br as w,bs as f,bt as r,bu as T,bv as t,d as _,B as g,aT as y,aU as k,aX as P,bR as Y,a as l,aD as m,g as h,h as q}from"./index-dd631538.js";const B=()=>{const[x,j]=p.useState([]),u=async()=>{var e,o;const a=await y(k(Y(l,"pending-fund-account"),P("sent","==",!1))),n=[];for(const c of a.docs){const d=await m(h(l,`users/${(o=(e=c.ref.parent)==null?void 0:e.parent)==null?void 0:o.id}`)),i=await m(h(l,`users/${d.get("sponsor_id")}`));n.push({...c.data(),ref_path:c.ref.path,user:d.data(),sponsor:i.data()})}j(n)};p.useEffect(()=>{u()},[]);const b=async(a,n)=>{await q(h(l,a),{sent:!0,sent_at:new Date});const e=[...x];e.splice(n,1),j(e)};return s.jsx("div",{className:"flex flex-col space-y-8 w-full",children:s.jsxs(D,{children:[s.jsx(w,{children:s.jsxs(f,{children:[s.jsx(r,{children:"Correo"}),s.jsx(r,{children:"Nombre"}),s.jsx(r,{children:"Paquete"}),s.jsx(r,{children:"Patrocinador"}),s.jsx(r,{children:"Patrocinador Correo"}),s.jsx(r,{children:"Fecha de inscripciÃ³n"}),s.jsx(r,{})]})}),s.jsx(T,{children:x.map((a,n)=>{var e,o,c,d,i;return s.jsxs(f,{children:[s.jsx(t,{children:(e=a.user)==null?void 0:e.email}),s.jsx(t,{children:(o=a.user)==null?void 0:o.name}),s.jsx(t,{children:a.pack}),s.jsx(t,{children:(c=a.sponsor)==null?void 0:c.name}),s.jsx(t,{children:(d=a.sponsor)==null?void 0:d.email}),s.jsx(t,{children:_(((i=a==null?void 0:a.created_at)==null?void 0:i.seconds)*1e3).format("YYYY-MM-DD HH:mm:ss")}),s.jsx(t,{children:s.jsx(g,{onClick:()=>b(a.ref_path,n),children:"Macar como enviado"})})]},n)})})]})})};export{B as default};
