import{r as v,aS as C,j as s,cA as F,b4 as S,bS as d,B as c}from"./index-dd631538.js";import{P as l}from"./PasswordInput-af9069e7.js";import{A as y}from"./ActionLink-40d75935.js";import{u as N}from"./useTimeOutMessage-07ccc141.js";import{F as k,a as R,b as m}from"./formik.esm-56d92394.js";import{c as A,a as p,e as I}from"./index.esm-65d2e63a.js";const M=A().shape({password:p().required("Please enter your password"),confirmPassword:p().oneOf([I("password")],"Your passwords do not match")}),$=u=>{const{disableSubmit:w=!1,className:f,signInUrl:h="/sign-in"}=u,[n,x]=v.useState(!1),[t,j]=N(),b=C(),P=async(a,e)=>{var r,i;e(!0);try{({data:{}}).data&&(e(!1),x(!0))}catch(o){j(((i=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:i.message)||o.toString()),e(!1)}},g=()=>{b("/sign-in")};return s.jsxs("div",{className:f,children:[s.jsx("div",{className:"mb-6",children:n?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Reset done"}),s.jsx("p",{children:"Your password has been successfully reset"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Set new password"}),s.jsx("p",{children:"Your new password must different to previos password"})]})}),t&&s.jsx(F,{showIcon:!0,className:"mb-4",type:"danger",children:t}),s.jsx(k,{initialValues:{password:"123Qwe1",confirmPassword:"123Qwe1"},validationSchema:M,onSubmit:(a,{setSubmitting:e})=>{w?e(!1):P(a,e)},children:({touched:a,errors:e,isSubmitting:r})=>s.jsx(R,{children:s.jsxs(S,{children:[n?s.jsx(c,{block:!0,variant:"solid",type:"button",onClick:g,children:"Continue"}):s.jsxs(s.Fragment,{children:[s.jsx(d,{label:"Password",invalid:e.password&&a.password,errorMessage:e.password,children:s.jsx(m,{autoComplete:"off",name:"password",placeholder:"Password",component:l})}),s.jsx(d,{label:"Confirm Password",invalid:e.confirmPassword&&a.confirmPassword,errorMessage:e.confirmPassword,children:s.jsx(m,{autoComplete:"off",name:"confirmPassword",placeholder:"Confirm Password",component:l})}),s.jsx(c,{block:!0,loading:r,variant:"solid",type:"submit",children:r?"Submiting...":"Submit"})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Back to "}),s.jsx(y,{to:h,children:"Sign in"})]})]})})})]})},B=()=>s.jsx($,{disableSubmit:!1}),T=B;export{T as default};
