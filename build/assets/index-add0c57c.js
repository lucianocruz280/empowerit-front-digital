import{Y as j,j as e,cA as b,b4 as g,bS as l,I as w,cn as v,B as I}from"./index-dd631538.js";import{P as N}from"./PasswordInput-af9069e7.js";import{A as y}from"./ActionLink-40d75935.js";import{u as F}from"./useTimeOutMessage-07ccc141.js";import{F as A,a as C,b as o}from"./formik.esm-56d92394.js";import{c as M,a as m,d as P}from"./index.esm-65d2e63a.js";const S=M().shape({name:m().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Please enter a valid email").required("Please enter your email"),password:m().required("Please enter your password"),rememberMe:P()}),k=t=>{const{disableSubmit:c=!1,className:d,forgotPasswordUrl:p="/forgot-password",signUpUrl:z="/sign-up"}=t,[i,u]=F(),{signIn:h}=j(),f=async(a,s)=>{const{name:n,password:x}=a;s(!0);const r=await h({email:n,password:x});console.log(r),(r==null?void 0:r.status)==="failed"&&u(r.message),s(!1)};return e.jsxs("div",{className:d,children:[i&&e.jsx(b,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx(e.Fragment,{children:i})}),e.jsx(A,{initialValues:{name:"",password:"",rememberMe:!0},validationSchema:S,onSubmit:(a,{setSubmitting:s})=>{c?s(!1):f(a,s)},children:({touched:a,errors:s,isSubmitting:n})=>e.jsx(C,{className:"pb-8",children:e.jsxs(g,{children:[e.jsx(l,{label:"Correo",invalid:s.name&&a.name,errorMessage:s.name,children:e.jsx(o,{type:"text",autoComplete:"off",name:"name",placeholder:"Correo",component:w})}),e.jsx(l,{label:"Contraseña",invalid:s.password&&a.password,errorMessage:s.password,children:e.jsx(o,{autoComplete:"off",name:"password",placeholder:"Contraseña",component:N})}),e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx(o,{className:"mb-0",name:"rememberMe",component:v,children:"Recordarme"}),e.jsx(y,{to:p,children:"¿Olvidaste tu contraseña?"})]}),e.jsx(I,{block:!0,loading:n,variant:"solid",type:"submit",children:n?"Iniciando...":"Iniciar Sesión"})]})})})]})},$=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-center mb-8 md:hidden",children:[e.jsx("img",{src:"/img/welcome.png",className:"w-full h-full object-cover hidden md:block"}),e.jsx("img",{src:"/img/welcome-mobile.png",className:"w-full h-full object-cover md:hidden"})]}),e.jsx("h3",{className:"mb-1",children:"¡Bienvenido!"}),e.jsx("p",{children:"Por favor, escribe tu correo y contraseña para iniciar sesión"})]}),e.jsx(k,{disableSubmit:!1})]}),E=$;export{E as default};
