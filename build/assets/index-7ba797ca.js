import{r as i,aU as P,aV as _,aX as g,bR as y,aT as T,j as a,bq as D,br as v,bs as x,bt as e,bu as S,bv as s,aZ as A,a_ as C,a as q}from"./index-dd631538.js";import{a as L,b as N}from"./Participations-0ca7a8b3.js";function F(){const[n,d]=i.useState(null);i.useState(0);const[E,p]=i.useState(null),[l,j]=i.useState(!1);i.useEffect(()=>{m(),b()},[]),i.useEffect(()=>{n&&!l&&u(n)},[n,l]);const u=async t=>{const c=await Promise.all(t.map(async r=>{const f=P(y(q,"users"),g("email","==",r.email),_(1)),h=await T(f);if(h.empty)return{...r,has_wallet:!1};{const o=h.docs[0].data().wallet_litecoin;return{...r,has_wallet:!!o,...o&&{wallet:o}}}}));d(c),p(c),j(!0)},m=async()=>{const t=await L();t&&d(t)},b=async()=>{const t=await N();t&&p(t)};return a.jsx("div",{children:a.jsxs(D,{children:[a.jsx(v,{children:a.jsxs(x,{children:[a.jsx(e,{children:"Nombre"}),a.jsx(e,{children:"Correo"}),a.jsx(e,{children:"Fecha Adquisición"}),a.jsx(e,{children:"Participación"}),a.jsx(e,{children:"Ganancia Pendiente"}),a.jsx(e,{children:"Ganancias"}),a.jsx(e,{children:"Ganancia Límite"}),a.jsx(e,{children:"Proximo pago"}),a.jsx(e,{children:"Wallet (LTC)"})]})}),a.jsx(S,{children:l&&n&&n.map((t,c)=>a.jsxs(x,{className:`${t.next_pay.toDate()>new Date?"bg-gray-200":""}`,children:[a.jsx(s,{children:t.userName}),a.jsx(s,{children:t.email}),a.jsx(s,{children:t.starts_at.toDate().toLocaleDateString()}),a.jsx(s,{children:t.participation_name}),a.jsx(s,{children:t.pending_amount}),a.jsx(s,{children:t.participation_cap_current}),a.jsx(s,{children:t.participation_cap_limit}),a.jsx(s,{children:t.next_pay.toDate().toLocaleDateString()}),a.jsx(s,{children:t.has_wallet?a.jsx(A,{className:"text-green-400"}):a.jsx(C,{className:"text-red-400"})})]},c))})]})})}export{F as default};
