import{u as b,j as e,bq as g,br as v,bs as j,bt as p,bu as P,bv as u,r as c}from"./index-dd631538.js";import{g as y}from"./Participations-0ca7a8b3.js";function w({participation:i,index:t}){const{next_pay:l,participation_cap_current:o,participation_cap_limit:r,participation_name:m,starts_at:f}=i;b(n=>n.auth.user);const d=o,s=d/r*100,a=s>=80?"bg-red-500":"bg-indigo-400";return e.jsxs("div",{className:"card p-4  card-border bg-slate-100 rounded-[10px] flex flex-col w-full",children:[e.jsxs("span",{className:"mx-auto font-bold text-xl uppercase",children:["Participación # ",t+1]}),e.jsxs("div",{className:"w-full bg-white h-[30px] rounded-full my-4 mx-auto",children:[e.jsx("div",{style:{minWidth:"80px",width:`${s}%`},className:`rounded-full h-[30px] flex text-center justify-center text-white ${a}`,children:e.jsx("span",{className:"font-bold pt-1",children:d})}),e.jsxs("div",{className:"justify-between flex font-bold mt-1",children:[e.jsx("span",{className:"text-left",children:"0"}),e.jsxs("span",{className:"text-right",children:["CAP ",r]})]})]})]})}function _({participations:i}){return e.jsxs(g,{children:[e.jsx(v,{children:e.jsxs(j,{children:[e.jsx(p,{children:"Participación"}),e.jsx(p,{children:"Ganancia"}),e.jsx(p,{children:"Próximo Pago"})]})}),e.jsx(P,{children:i.map((t,l)=>e.jsxs(j,{children:[e.jsxs(u,{children:[" Participación ",N[t.participation_name]]}),e.jsxs(u,{children:["$ ",t.participation_cap_current]}),e.jsx(u,{children:e.jsx("span",{children:t.next_pay.toDate().toLocaleDateString()})})]},l))})]})}const N={"3000-participation":3e3};function A(){const i=b(s=>s.auth.user),[t,l]=c.useState([]),[o,r]=c.useState(),[m,f]=c.useState(),[d,h]=c.useState(0);return c.useEffect(()=>{const s=async a=>{const n=await y(a);l(n)};i&&i.uid&&s(i.uid)},[i]),c.useEffect(()=>{if(t){let s=0,a=0,n=0;for(const x of t)s+=N[x.participation_name],a+=x.participation_cap_current,n+=x.pending_amount;h(n),r(s),f(a)}}),e.jsxs("div",{className:"flex flex-col space-y-2 2xl:w-[1200px] 2xl:mx-auto",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("span",{className:"font-bold text-3xl",children:"Franquicias"})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"card transition duration-150 ease-in-out card-border user-select-none w-[280px] mr-2 lg:w-[350px]",children:e.jsxs("div",{className:"flex flex-col p-4 justify-between bg-slate-100 rounded-[10px] h-full",children:[e.jsx("p",{className:"text-lg font-semibold text-center",children:"Mi inversión"}),e.jsxs("p",{className:"text-xl font-md text-center",children:["$ ",o]})]})}),e.jsx("div",{className:"card transition duration-150 ease-in-out card-border user-select-none w-[280px] mr-2 lg:w-[350px]",children:e.jsxs("div",{className:"flex flex-col p-4 justify-between bg-slate-100 rounded-[10px] h-full",children:[e.jsx("p",{className:"text-lg font-semibold text-center",children:"Monto Pendiente"}),e.jsxs("p",{className:"text-xl font-md text-center",children:["$ ",d]})]})}),e.jsx("div",{className:"card transition duration-150 ease-in-out card-border user-select-none w-[280px] lg:w-[350px]",children:e.jsxs("div",{className:"flex flex-col py-4 pl-4 justify-between bg-slate-100 rounded-[10px] h-full",children:[e.jsx("p",{className:"text-lg font-semibold text-center",children:"Total recibido"}),e.jsxs("p",{className:"text-xl font-md text-center",children:["$ ",m]})]})})]}),t&&t.length>0&&e.jsx("div",{className:"flex flex-col space-y-4 justify-center text-center",children:t.map((s,a)=>e.jsx("div",{className:"w-full flex  justify-center items-center",children:e.jsx(w,{participation:s,index:a})},a))}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("span",{className:"font-bold text-lg my-4",children:"Historial de Participaciones"})}),t&&t.length>0&&e.jsx(_,{participations:t})]})}export{N as INVESTMENT_PARTICIPATION,A as default};
