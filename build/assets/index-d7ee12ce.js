import{cq as j,cr as v,r as w,j as e,b4 as S,bS as i,I as u,cs as y,Z as f,ct as C,B as F,bP as P,c as D,a as L,b0 as R,b1 as V,cu as A,cv as N}from"./index-dd631538.js";import{F as I,a as U,b as c}from"./formik.esm-56d92394.js";import{c as k,a as m}from"./index.esm-65d2e63a.js";import{C as p}from"./Academy.definition-2f8eb162.js";import{v as q}from"./v4-4a60fe23.js";const B=()=>{const n=j(v,"courses-images/"+q()),[l]=w.useState(window.location.pathname.includes("academy-leadership")?p.LEADERSHIP:p.STANDARD),d=(s,a,o)=>{s.setFieldValue(l,o[0]),s.setFieldValue("coursesPreview",URL.createObjectURL(o[0]))},h=async s=>(await A(n,s),await N(n)),b=async(s,{resetForm:a})=>{const o=await h(s.courses);try{await P(D(L,l),{name:s.name,description:s.description,image_cover:o,s3_path:s.name.replace(/\s/g,"").toLowerCase()}),R.push(e.jsx(V,{title:"Se subió el curso éxito",type:"success"}),{placement:"top-center"}),a()}catch(r){console.log(r)}},x=k().shape({name:m().required("Por favor introduzca el nombre del curso"),description:m().required("Por favor introduzca la descripción del curso")});return e.jsx("div",{children:e.jsx(I,{initialValues:{name:"",description:"",image_cover:""},validationSchema:x,onSubmit:b,children:({touched:s,errors:a})=>e.jsx(U,{children:e.jsxs(S,{children:[e.jsx(i,{label:"Nombre",invalid:a.name&&s.name,errorMessage:a.name,children:e.jsx(c,{type:"text",autoComplete:"off",name:"name",placeholder:"Nombre del Curso",component:u})}),e.jsx(i,{label:"Descripción",invalid:a.description&&s.description,errorMessage:a.description,children:e.jsx(c,{type:"text",autoComplete:"off",name:"description",placeholder:"Descripción del Curso",component:u})}),e.jsx(i,{label:"Imagen del Curso",children:e.jsx(c,{name:"courses",children:({field:o,form:r})=>{const g=r.values.coursesPreview?{src:r.values.coursesPreview}:{};return e.jsx(y,{className:"cursor-pointer",showList:!1,uploadLimit:1,onChange:t=>d(r,o,t),onFileRemove:t=>d(r,o,t),children:e.jsx(f,{className:"border-2 border-white dark:border-gray-800 shadow-lg",size:60,shape:"square",icon:e.jsx(C,{}),...g})})}})}),e.jsx(F,{block:!0,variant:"solid",type:"submit",children:"Añadir Curso"})]})})})})},H=B;export{H as default};
